<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TrackIT Inventory App Documentation</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; background: #f9f9f9; color: #222; }
    h1, h2, h3 { color: #1a237e; }
    section { margin-bottom: 2rem; }
    .placeholder { color: #888; font-style: italic; }
    code { background: #f0f0f0; padding: 0.2em 0.4em; border-radius: 3px; }
  </style>
</head>
<body>
  <h1>TrackIT Inventory App Documentation</h1>

  <section>
    <h2>Overview</h2>
    <p>TrackIT is an inventory management system for TV Engineering and IT departments, supporting asset tracking, project management, secure storage, and reporting. The app is designed for desktop (Tauri), PWA/mobile, and in-house/cloud deployment.</p>
  </section>

  <section>
    <h2>Key Features</h2>
    <ul>
      <li>Asset tracking with unique IDs/barcodes</li>
      <li>Check-in/check-out with user and project association</li>
      <li>Location management (secure storage vs. general inventory)</li>
      <li>User management and role-based access</li>
      <li>Maintenance logs and scheduling</li>
      <li>Consumables tracking and reorder alerts</li>
      <li>Audit trail for all actions</li>
      <li>Advanced search, filter, and reporting</li>
      <li>Project tracking and asset assignment</li>
      <li>User asset tagging and updates</li>
      <li>Barcode/QR code scanning (PWA/mobile)</li>
      <li>Bulk import/export</li>
      <li>Notifications and alerts</li>
      <li>API access for integration</li>
    </ul>
  </section>

  <section>
    <h2>Entity/Data Model</h2>
    <ul>
      <li>Asset</li>
      <li>User</li>
      <li>Location</li>
      <li>Project</li>
      <li>Transaction</li>
      <li>Maintenance</li>
      <li>Consumable</li>
      <li>Tag</li>
      <li>AssetTag</li>
    </ul>
    <p class="placeholder">(Detailed schema to be added)</p>
  </section>

  <section>
    <h2>Security & Access Control</h2>
    <ul>
      <li>Role-based access (admin, engineer, IT staff, etc.)</li>
      <li>Restricted actions for secure storage</li>
      <li>Audit logging of all changes</li>
      <li>Authentication and authorization</li>
      <li>Data encryption and secure connections (HTTPS)</li>
    </ul>
    <p class="placeholder">(Implementation details to be added)</p>
  </section>

  <section>
    <h2>Reporting</h2>
    <ul>
      <li>Project-based asset and usage reports</li>
      <li>Inventory and location reports</li>
      <li>User activity and asset tagging reports</li>
      <li>Custom and scheduled reports</li>
    </ul>
    <p class="placeholder">(Report templates and examples to be added)</p>
  </section>

  <section>
    <h2>Project Structure</h2>
    <pre>
trackIT/
  src/
    app/                # App-specific logic (features)
    components/         # Reusable UI components
    contexts/          # React contexts for state management
    hooks/             # Custom React hooks
    lib/               # Utility libraries
    routes/            # Route components and configurations
      __root.tsx       # Root layout and configuration
      index.tsx        # Home page route
      assets.tsx       # Asset management routes
      inventory.tsx    # Inventory management routes
    types/             # TypeScript types/interfaces
    utils/             # Utility functions
    router.ts         # Centralized router configuration
    main.tsx          # Application entry point
  public/             # Static assets
  src-tauri/          # Tauri backend (Rust)
    src/
      main.rs         # Tauri main process
      commands.rs     # Tauri command definitions
      db.rs          # Database connection handling
      bin/
        prisma.rs    # Prisma client generator
    prisma/
      schema.prisma  # Database schema definition
    tauri.conf.json  # Tauri config
  docs/               # Documentation
  README.md
  package.json
    </pre>
  </section>

  <section>
    <h2>Backend Architecture</h2>
    <h3>Database Integration</h3>
    <ul>
      <li>Uses Prisma with SQLite for data persistence</li>
      <li>Automatic client generation during build</li>
      <li>Type-safe database operations</li>
      <li>Migration support for schema changes</li>
    </ul>

    <h3>Tauri Commands</h3>
    <ul>
      <li>Asset Management
        <ul>
          <li><code>get_assets()</code> - Retrieve all assets with relations</li>
          <li><code>get_asset(id: String)</code> - Get single asset by ID with relations</li>
        </ul>
      </li>
      <li>Logging System
        <ul>
          <li>Integrated with tauri-plugin-log</li>
          <li>Multi-target logging (stdout, file, webview)</li>
          <li>Configurable log levels</li>
        </ul>
      </li>
    </ul>
  </section>

  <section>
    <h2>Recent Updates</h2>
    <ul>
      <li>Fixed duplicate command definitions in Rust backend</li>
      <li>Implemented proper Prisma client generation</li>
      <li>Resolved Tauri plugin compatibility issues</li>
      <li>Fixed logging system integration</li>
      <li>Added proper build script for Prisma client generation</li>
      <li>Fixed dependency conflicts</li>
      <li>Updated plugin versions for compatibility</li>
    </ul>
  </section>

  <section>
    <h2>Setup & Deployment</h2>
    <p>Instructions for local development:</p>
    <ol>
      <li>Clone the repository</li>
      <li>Install dependencies with <code>pnpm install</code></li>
      <li>Run <code>pnpm tauri dev</code> for development</li>
      <li>Build with <code>pnpm tauri build</code> for production</li>
    </ol>
  </section>

  <section>
    <h2>Changelog</h2>
    <p>For detailed changes and updates, see <a href="CHANGELOG.md">CHANGELOG.md</a></p>
  </section>
</body>
</html> 